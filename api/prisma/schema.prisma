generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model company {
  companyID          String               @id @db.VarChar(36)
  companyName        String?              @db.VarChar(25)
  location           String?              @db.VarChar(55)
  contactEmail       String?              @unique(map: "contactEmail") @db.VarChar(35)
  companyLogo        Bytes?               @db.Blob
  internship         internship[]
  internship_listing internship_listing[]
}

model intern {
  internID    String        @id @db.VarChar(36)
  firstName   String?       @db.VarChar(25)
  lastName    String?       @db.VarChar(25)
  dateOfBirth DateTime?     @db.Date
  email       String?       @unique(map: "email") @db.VarChar(35)
  application application[]
  internship  internship?
}

model internship {
  internshipID    String            @id @db.VarChar(36)
  internID        String?           @unique(map: "internID_UNIQUE") @db.VarChar(36)
  managerID       String?           @db.VarChar(36)
  companyID       String?           @db.VarChar(36)
  status          String?           @db.VarChar(15)
  finalReport     String?           @db.VarChar(250)
  listingID       String?           @db.VarChar(36)
  company         company?          @relation(fields: [companyID], references: [companyID], onDelete: NoAction, onUpdate: NoAction, map: "fk_company")
  intern          intern?           @relation(fields: [internID], references: [internID], onDelete: NoAction, onUpdate: NoAction, map: "fk_internID")
  manager         manager?          @relation(fields: [managerID], references: [managerID], onDelete: NoAction, onUpdate: NoAction, map: "fk_managerID")
  internship_days internship_days[]

  @@index([companyID], map: "internshipcompanyID_idx")
  @@index([internID], map: "internshipinternID_idx")
  @@index([managerID], map: "internshipmanagerID_idx")
}

model internship_days {
  dayID          String      @id @db.VarChar(36)
  internshipID   String?     @db.VarChar(36)
  workdayDate    DateTime?   @db.Date
  dayDescription String?     @db.Text
  status         String?     @db.VarChar(45)
  internship     internship? @relation(fields: [internshipID], references: [internshipID], onDelete: NoAction, onUpdate: NoAction, map: "fk_internshipID")

  @@index([internshipID], map: "internshipdaysinternshipID_idx")
}

model internship_listing {
  listingID          String        @id @db.VarChar(36)
  companyID          String?       @db.VarChar(36)
  position           String        @db.VarChar(100)
  listingDescription String?       @db.Text
  location           String?       @db.Text
  startDate          DateTime?     @db.Date
  endDate            DateTime?     @db.Date
  requirements       String?       @db.Text
  noOfPlaces         Int?
  listingStatus      String?       @db.VarChar(45)
  application        application[]
  company            company?      @relation(fields: [companyID], references: [companyID], onDelete: NoAction, onUpdate: NoAction, map: "fk_companyID")

  @@index([companyID], map: "listingcompanyID_idx")
}

model manager {
  managerID   String       @id @db.VarChar(36)
  firstName   String?      @db.VarChar(25)
  lastName    String?      @db.VarChar(25)
  dateOfBirth DateTime?    @db.Date
  email       String?      @unique(map: "email") @db.VarChar(35)
  internship  internship[]
}

model application {
  applicationID      String              @id @db.VarChar(36)
  listingID          String?             @db.VarChar(36)
  internID           String?             @db.VarChar(36)
  applicationStatus  String?             @db.VarChar(15)
  intern             intern?             @relation(fields: [internID], references: [internID], onDelete: NoAction, onUpdate: NoAction, map: "applicationinternid")
  internship_listing internship_listing? @relation(fields: [listingID], references: [listingID], onDelete: NoAction, onUpdate: NoAction, map: "applicationlistingid")

  @@index([internID], map: "applicationinternID_idx")
  @@index([listingID], map: "applicationlistingID_idx")
}
